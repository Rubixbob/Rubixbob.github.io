<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="./jquery-ui/jquery-ui.min.css">
    <link rel="stylesheet" href="./UI-Icon-master/icon.min.css">
    <link rel="stylesheet" href="./UI-Button-master/button.min.css">
    <link rel="stylesheet" href="./UI-Transition-master/transition.min.css">
    <link rel="stylesheet" href="./UI-Dimmer-master/dimmer.min.css">
    <link rel="stylesheet" href="./UI-Modal-master/modal.min.css">
    <link rel="stylesheet" href="./drg_sim.css">
    <link rel="shortcut icon" href="./images/favicon.ico" />
    <title>XIV DRG Sim</title>
</head>

<body>
    <div id="mainDiv">
        <div id="actions">
            <div id="combo1" class="actionGroup">
            </div>
            <div id="combo2" class="actionGroup">
            </div>
            <div id="miscgcd" class="actionGroup">
            </div>
            <div id="buff" class="actionGroup">
            </div>
            <div id="ogcd" class="actionGroup">
            </div>
            <div id="crossrole" class="actionGroup">
            </div>
            <div id="other" class="actionGroup">
            </div>
        </div>
        <div id="midDiv">
            <button class="mini ui button" id="clearRotation">Clear rotation</button>
            <button class="mini ui button" id="opener">Recommended opener</button>
            <button class="mini ui button" id="loadRotation">Load (test)</button>
            <button class="mini ui button" id="saveRotation">Save (test)</button>
            <button class="mini ui button" id="threeMinRotation">3 min rotation</button>
            <button class="mini ui button" id="debugButton">Debug</button>
            <button class="mini ui button" id="hideEffectsButton">Show/Hide Effects</button>
            <label for="DPSout">Final DPS: </label>
            <output id="DPSout"></output>
            <table>
                <tr id="headers">
                    <th>Time</th>
                    <th width="74px">Actions</th>
                    <th width="36px">BotD</th>
                    <th id="effectsHeader" nowrap></th>
                    <th id="groupEffectsHeader" nowrap></th>
                    <th>Cooldowns</th>
                    <th width="50px">DPS</th>
                </tr>
            </table>
            <div id="scrollableDiv">
                <table>
                    <tr id="columns">
                        <td id="timeline"></td>
                        <td id="rotation" class="dropper"></td>
                        <td id="botd"></td>
                        <td id="effects"></td>
                        <td id="groupEffects"></td>
                        <td id="cds"></td>
                        <td id="dps"></td>
                    </tr>
                </table>
            </div>
        </div>
        <div>
            <table id="group">
                <tr>
                    <th>Raid group</th>
                    <th>
                        <label for="raidBuffAuto">Auto</label>
                        <input id="raidBuffAuto" type="checkbox" checked checkCount="7"/>
                    </th>
                </tr>
                <tr>
                    <td>
                        <select>
                            <optgroup label="Tanks">
                                <option value="war" data-class="war">WAR</option>
                                <option value="pld" data-class="pld">PLD</option>
                                <option value="drk" data-class="drk">DRK</option>
                            </optgroup>
                            <optgroup label="Healers">
                                <option value="sch" data-class="sch">SCH</option>
                                <option value="ast" data-class="ast">AST</option>
                                <option value="whm" data-class="whm">WHM</option>
                            </optgroup>
                            <optgroup label="DPS">
                                <option value="drg" data-class="drg">DRG</option>
                                <option value="nin" data-class="nin">NIN</option>
                                <option value="mnk" data-class="mnk">MNK</option>
                                <option value="sam" data-class="sam">SAM</option>
                                <option value="brd" data-class="brd">BRD</option>
                                <option value="mch" data-class="mch">MCH</option>
                                <option value="smn" data-class="smn">SMN</option>
                                <option value="rdm" data-class="rdm">RDM</option>
                                <option value="blm" data-class="blm">BLM</option>
                            </optgroup>
                        </select>
                    </td>
                    <td><input type="checkbox" checked /></td>
                </tr>
            </table>
            <br />
            <table id="stats">
                <tr>
                    <th>Stats</th>
                    <th></th>
                    <th>Mod</th>
                </tr>
                <tr>
                    <td><label for="WDin">Weapon Damage</label></td>
                    <td><input id="WDin" type="number" value="109" min="0" max="9999"></input></td>
                    <td><output id="WDout"></output></td>
                </tr>
                <tr>
                    <td><label for="STRin">Strength</label></td>
                    <td><input id="STRin" type="number" value="3207" min="0" max="9999"></input></td>
                    <td><output id="STRout"></output></td>
                </tr>
                <tr>
                    <td><label for="DHin">Direct Hit Rate</label></td>
                    <td><input id="DHin" type="number" value="1611" min="0" max="9999"></input></td>
                    <td><output id="DHout"></output></td>
                    <td>Chance: <output id="DHoutRate"></output></td>
                </tr>
                <tr>
                    <td><label for="CRITin">Critical Hit Rate</label></td>
                    <td><input id="CRITin" type="number" value="2557" min="0" max="9999"></input></td>
                    <td><output id="CRITout"></output></td>
                    <td>Chance: <output id="CRIToutRate"></output> Damage: <output id="CRIToutDmg"></output></td>
                </tr>
                <tr>
                    <td><label for="DETin">Determination</label></td>
                    <td><input id="DETin" type="number" value="1796" min="0" max="9999"></input></td>
                    <td><output id="DETout"></output></td>
                </tr>
                <tr>
                    <td><label for="SKSin">Skill Speed</label></td>
                    <td><input id="SKSin" type="number" value="655" min="0" max="9999"></input></td>
                    <td><output id="SKSout"></output></td>
                    <td>GCD: <output id="SKSoutGCD"></output></td>
                </tr>
                <tr>
                    <td><label for="Latency">Latency</label></td>
                    <td><input id="Latency" type="number" value="20" min="0" max="9999"></input></td>
                </tr>
            </table>
        </div>
    </div>
    <div id="progress">
        <div>
            <strong>DONE:</strong>
            <ul>
    <br/>
                <li>Automatic read of actions from data.js + add to "action group"</li>
                <li>Clear rotation button</li>
                <li>Time extends when needed</li>
                <li>Animation lock + GCD vs anim lock priority</li>
                <li>Offset oGCDs a bit to the right</li>
                <li>Option to delay oGCDs<strike>, will be reworked later</strike></li>
                <li>Animation lock indicator</li>
                <li>Delete actions</li>
                <li>Move actions</li>
                <li>Recommended opener button</li>
                <li>Auto scroll</li>
                <li>Variable GCD and latency</li>
                <li>Delay reworked, works through drag and drop now<br/>
                    The "Delay" action will be used later to simulate downtime</li>
                <li>Pre-pull actions</li>
                <li>Add vertical time grid + precise time of actions</li>
                <li>Cooldowns condition</li>
				<li>Auto delay buffs</li>
                <li>Action info on mouseover + rework time tooltip</li>
                <!-- <li>Effects list + activation time</li> -->
                <li>Cooldowns display</li>
                <li>Effects display</li>
                <li>Lib (Actual DPS calculator, too much to do, will be detailed later)</li>
                <li>Stats input</li>
            </ul>
        </div>
        <div>
            <strong>TODO:</strong>
            <ul>
                <li>Raid buffs + speed buffs</li>
                <li>Show/Hide columns/buffs/cds</li>
                <li>Make it work on phone</li>
                <li>Downtime manager</li>
                <li>Actions suggestions</li>
                <li>Adjust display depending on zoom level</li>
                <li>See if it's possible to restrict actions usage if a buff is up</li>
                <li>Auto fill GCDs checkbox</li>
                <li>Clipping indicator</li>
                <li>When downtime > 10 secs, tip to optimize last GCDs because combo will break</li>
                <li>Should work on making the website look pretty around this time<br/>
                    (JQuery UI animations, cursor: pointer; cursor: hand; cursor: move; cursor: n-resize)</li>
                <li>Combo and CD indicator in hotbar based on current end time</li>
                <li>Save rotations (can't go public before that)</li>
                <li>Damage and DPS preview of an action when moving it</li>
                <li>Rotation comparator</li>
            </ul>
        </div>
    </div>
    
    <div id="raidBuffLightbox" class="ui modal">
        <i class="close icon"></i>
        <div class="header">
            <output id="raidBuffLightboxTitleMode"></output> <output id="raidBuffLightboxTitle"></output>
        </div>
        <div class="image content">
            <div class="ui medium image">
                <img id="raidBuffLightboxImg">
            </div>
            <div class="description">
                <table id="raidBuffInput">
                    <tr>
                        <td><label>Start time</label></td>
                        <td><input id="raidBuffLightboxStartTimeInput" type="number"></input></td>
                    </tr>
                    <tr>
                        <td><label>Duration</label></td>
                        <td>
                            <input id="raidBuffLightboxDurationInput" type="number" min="0"></input>
                            <output id="raidBuffLightboxDurationOutput" hidden></output>
                        </td>
                    </tr>
                    <tr id="raidBuffLightboxCardsRow">
                        <td colspan="2">
                            <input type="radio" id="raidBuffLightboxBalance" name="card" value="balance" checked/>
                            <label for="raidBuffLightboxBalance"><img src="images/effects/The Balance.png">The Balance</label>
                            <input type="radio" id="raidBuffLightboxSpear" name="card" value="spear"/>
                            <label for="raidBuffLightboxSpear"><img src="images/effects/The Spear.png">The Spear</label>
                            <input type="radio" id="raidBuffLightboxArrow" name="card" value="arrow"/>
                            <label for="raidBuffLightboxArrow"><img src="images/effects/The Arrow.png">The Arrow</label>
                        </td>
                    </tr>
                    <tr id="raidBuffLightboxRoadRow">
                        <td colspan="2">
                            <input type="radio" id="raidBuffLightboxNoEffect" name="royalRoad" value="noeffect"/>
                            <label for="raidBuffLightboxNoEffect">No Effect</label>
                            <input type="radio" id="raidBuffLightboxExpanded" name="royalRoad" value="expanded" checked/>
                            <label for="raidBuffLightboxExpanded"><img src="images/effects/Expanded Royal Road.png">Expanded</label>
                            <input type="radio" id="raidBuffLightboxExtended" name="royalRoad" value="extended"/>
                            <label for="raidBuffLightboxExtended"><img src="images/effects/Extended Royal Road.png">Extended</label>
                            <input type="radio" id="raidBuffLightboxEnhanced" name="royalRoad" value="enhanced"/>
                            <label for="raidBuffLightboxEnhanced"><img src="images/effects/Enhanced Royal Road.png">Enhanced</label>
                        </td>
                    </tr>
                    <tr id="raidBuffLightboxAstRow">
                        <td colspan="2">
                            <input type="checkbox" id="raidBuffLightboxCelestialOpposition" name="celestialOpposition" checked/>
                            <label for="raidBuffLightboxCelestialOpposition"><img src="images/group/Celestial Opposition.png" width="32">Celestial Opposition (+10 secs)</label>
                            <input type="checkbox" id="raidBuffLightboxTimeDilation" name="timeDilation" checked/>
                            <label for="raidBuffLightboxTimeDilation"><img src="images/group/Time Dilation.png" width="32">Time Dilation (+15 secs)</label>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="actions">
            <div class="ui black cancel button">
                Cancel
            </div>
            <div id="raidBuffLightboxConfirm" class="ui positive right labeled icon button">
                OK
                <i class="checkmark icon"></i>
            </div>
        </div>
    </div>

    <script src="./jquery.js"></script>
    <script src="./jquery-ui/jquery-ui.min.js"></script>
    <script src="./UI-Transition-master/transition.min.js"></script>
    <script src="./UI-Dimmer-master/dimmer.min.js"></script>
    <script src="./UI-Modal-master/modal.min.js"></script>
    <script src="./data.js"></script>
    <script src="./lib.js"></script>
    <script src="./drg_sim.js"></script>
</body>

</html>
