<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="./drg_sim.css">
    <link rel="shortcut icon" href="./images/favicon.ico" />
    <title>XIV DRG Sim</title>
</head>

<body>
    <div id="actions">
        <div id="combo1" class="actionGroup">
        </div>
        <div id="combo2" class="actionGroup">
        </div>
        <div id="miscgcd" class="actionGroup">
        </div>
        <div id="buff" class="actionGroup">
        </div>
        <div id="ogcd" class="actionGroup">
        </div>
        <div id="crossrole" class="actionGroup">
        </div>
        <div id="other" class="actionGroup">
        </div>
    </div>
    <div>
        <button id="clearRotation">Clear rotation</button>
        <button id="opener">Recommended opener</button>
        <button id="loadRotation">Load (test)</button>
        <button id="saveRotation">Save (test)</button>
        <!-- <label for="GCD">GCD</label>
        <input id="GCD" type="number" step="0.01" value="2.45" maxlength=4 size="1" min="1.5" max="2.5"></input> -->
        <label for="Latency">Latency</label>
        <input id="Latency" type="number" value="20" maxlength=3 size="1" min="0" max="999"></input>
        <table>
            <tr id="headers">
                <th>Time</th>
                <th width="74px">Actions</th>
                <th width="36px">BotD</th>
                <th id="effectsHeader" nowrap></th>
                <th>Cooldowns</th>
                <th width="40px">DPS</th>
            </tr>
        </table>
        <div class="scrollable">
            <table>
                <tr id="columns">
                    <td id="timeline"></td>
                    <td id="rotation" class="dropper"></td>
                    <td id="botd"></td>
                    <td id="effects"></td>
                    <td id="cds"></td>
                    <td id="dps"></td>
                </tr>
            </table>
        </div>
    </div>
    <div>
        <table id="stats">
            <tr>
                <th>Stats</th>
                <th></th>
                <th>Mod</th>
            </tr>
            <tr>
                <td><label for="WDin">Weapon Damage</label></td>
                <td><input id="WDin" type="number" value="109" min="0" max="9999"></input></td>
                <td><output id="WDout"></output></td>
            </tr>
            <tr>
                <td><label for="STRin">Strength</label></td>
                <td><input id="STRin" type="number" value="3207" min="0" max="9999"></input></td>
                <td><output id="STRout"></output></td>
            </tr>
            <tr>
                <td><label for="DHin">Direct Hit Rate</label></td>
                <td><input id="DHin" type="number" value="1611" min="0" max="9999"></input></td>
                <td><output id="DHout"></output></td>
                <td>Chance: <output id="DHoutRate"></output></td>
            </tr>
            <tr>
                <td><label for="CRITin">Critical Hit Rate</label></td>
                <td><input id="CRITin" type="number" value="2557" min="0" max="9999"></input></td>
                <td><output id="CRITout"></output></td>
                <td>Chance: <output id="CRIToutRate"></output> Damage: <output id="CRIToutDmg"></output></td>
            </tr>
            <tr>
                <td><label for="DETin">Determination</label></td>
                <td><input id="DETin" type="number" value="1796" min="0" max="9999"></input></td>
                <td><output id="DETout"></output></td>
            </tr>
            <tr>
                <td><label for="SKSin">Skill Speed</label></td>
                <td><input id="SKSin" type="number" value="655" min="0" max="9999"></input></td>
                <td><output id="SKSout"></output></td>
                <td>GCD: <output id="SKSoutGCD"></output></td>
            </tr>
        </table>
        <!-- <br />
        <table id="group">
            <tr>
                <th>Raid group</th>
                <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+</td>
            </tr> -->
            <!-- <tr>
                <td>
                    <img src="images/jobs/DarkKnight.png" />
                    <select>
                        <option value="drk">DRK</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>
                    <img src="images/jobs/Warrior.png" />
                    <select>
                        <option value="war">WAR</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>
                    <img src="images/jobs/Astrologian.png" />
                    <select>
                        <option value="ast">AST</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>
                    <img src="images/jobs/Scholar.png" />
                    <select>
                        <option value="sch">SCH</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>
                    <img src="images/jobs/Ninja.png" />
                    <select>
                        <option value="nin">NIN</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>
                    <img src="images/jobs/Bard.png" />
                    <select>
                        <option value="brd">BRD</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>
                    <img src="images/jobs/Machinist.png" />
                    <select>
                        <option value="mch">MCH</option>
                    </select>
                </td>
            </tr> -->
        <!-- </table> -->
    </div>
    <div id="progress">
        <div>
            <strong>DONE:</strong>
            <ul>
                <li>Automatic read of actions from data.js + add to "action group"</li>
                <li>Clear rotation button</li>
                <li>Time extends when needed</li>
                <li>Animation lock + GCD vs anim lock priority</li>
                <li>Offset oGCDs a bit to the right</li>
                <li>Option to delay oGCDs<strike>, will be reworked later</strike></li>
                <li>Animation lock indicator</li>
                <li>Delete actions</li>
                <li>Move actions</li>
                <li>Recommended opener button</li>
                <li>Auto scroll</li>
                <li>Variable GCD and latency</li>
                <li>Delay reworked, works through drag and drop now<br/>
                    The "Delay" action will be used later to simulate downtime</li>
                <li>Pre-pull actions</li>
                <li>Add vertical time grid + precise time of actions</li>
                <li>Cooldowns condition</li>
				<li>Auto delay buffs</li>
                <li>Action info on mouseover + rework time tooltip</li>
                <!-- <li>Effects list + activation time</li> -->
                <li>Cooldowns display</li>
                <li>Effects display</li>
                <li>Lib (Actual DPS calculator, too much to do, will be detailed later)</li>
                <li>Stats input</li>
            </ul>
        </div>
        <div>
            <strong>TODO:</strong>
            <ul>
                <li>Raid buffs + speed buffs</li>
                <li>Show/Hide columns/buffs/cds</li>
                <li>Make it work on phone</li>
                <li>Downtime manager</li>
                <li>Actions suggestions</li>
                <li>Adjust display depending on zoom level</li>
                <li>See if it's possible to restrict actions usage if a buff is up</li>
                <li>Auto fill GCDs checkbox</li>
                <li>Clipping indicator</li>
                <li>When downtime > 10 secs, tip to optimize last GCDs because combo will break</li>
                <li>Should work on making the website look pretty around this time<br/>
                    (JQuery UI animations, cursor: pointer; cursor: hand; cursor: move; cursor: n-resize)</li>
                <li>Combo and CD indicator in hotbar based on current end time</li>
                <li>Save rotations (can't go public before that)</li>
                <li>Damage and DPS preview of an action when moving it</li>
                <li>Rotation comparator</li>
            </ul>
        </div>
    </div>

    <script src="./jquery.js"></script>
    <script src="./data.js"></script>
    <script src="./lib.js"></script>
    <script src="./drg_sim.js"></script>
</body>

</html>
